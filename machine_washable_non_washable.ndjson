{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}"},"title":"machine_washable/non_washable","uiStateJSON":"{}","version":1,"visState":"{\"title\":\"machine_washable/non_washable\",\"type\":\"vega\",\"aggs\":[],\"params\":{\"spec\":\"{\\n  \\\"$schema\\\": \\\"https://vega.github.io/schema/vega-lite/v5.json\\\",\\n  \\\"title\\\": \\\"Percentage of machine washable yarns\\\",\\n  // \\\"autosize\\\": \\\"none\\\",\\n  // \\\"width\\\": ,\\n  // \\\"height\\\": 500,\\n  \\\"data\\\": {\\n    \\\"name\\\": \\\"table\\\",\\n    \\\"url\\\": {\\n      \\\"index\\\": \\\"yarns\\\",\\n      \\\"body\\\": {\\n        \\\"size\\\": 0,\\n        \\\"aggs\\\": {\\n          \\\"washable\\\": {\\\"terms\\\": {\\\"field\\\": \\\"machine_washable\\\"}}\\n        }\\n      }\\n    },\\n    \\\"format\\\": {\\\"property\\\": \\\"aggregations.washable.buckets\\\"}\\n  },\\n  \\\"transform\\\": [\\n    {\\n      \\\"calculate\\\": \\\"datum.key == 0 ? 'Non machine washable' : 'Machine washable'\\\",\\n      \\\"as\\\": \\\"washable\\\"\\n    },\\n    {\\n      \\\"window\\\": [{\\\"op\\\": \\\"sum\\\", \\\"field\\\": \\\"doc_count\\\", \\\"as\\\": \\\"total\\\"}],\\n      \\\"frame\\\": [null, null]\\n    },\\n    {\\\"calculate\\\": \\\"datum.doc_count/datum.total * 100\\\", \\\"as\\\": \\\"percent\\\"},\\n    {\\n      \\\"calculate\\\": \\\"replace(datum.percent, /(\\\\\\\\.\\\\\\\\d{2}).*/, '$1') + '%'\\\",\\n      \\\"as\\\": \\\"percent_label\\\"\\n    }\\n  ],\\n  \\\"layer\\\": [\\n    {\\\"mark\\\": {\\\"type\\\": \\\"arc\\\", \\\"innerRadius\\\": 50, \\\"radius\\\":200 , \\\"stroke\\\": \\\"#fff\\\"}},\\n    {\\n      \\\"mark\\\": {\\\"type\\\": \\\"text\\\", \\\"radius\\\": 220, \\\"fontSize\\\": 15},\\n      \\\"encoding\\\": {\\\"text\\\": {\\\"field\\\": \\\"washable\\\", \\\"type\\\": \\\"nominal\\\"}}\\n    },\\n    {\\n      \\\"mark\\\": {\\\"type\\\": \\\"text\\\" ,\\n      \\\"radius\\\": 130,\\n      \\\"fontSize\\\": 18},\\n      \\\"encoding\\\": {\\\"text\\\": {\\\"field\\\": \\\"percent_label\\\", \\\"type\\\": \\\"nominal\\\",\\n      },\\n      \\\"color\\\": {\\\"value\\\": \\\"#FFFFFF\\\"},\\n      }\\n    }\\n  ],\\n  \\\"encoding\\\": {\\n    \\\"theta\\\": {\\\"field\\\": \\\"percent\\\", \\\"type\\\": \\\"quantitative\\\", \\\"stack\\\": true},\\n    \\\"color\\\": {\\\"field\\\": \\\"key\\\", \\\"type\\\": \\\"nominal\\\", \\\"legend\\\": null, \\\"scale\\\": { \\\"range\\\": [\\\"#5998a6\\\", \\\"#EE6E62\\\"] },}\\n  }\\n}\"}}"},"coreMigrationVersion":"7.14.1","id":"59c32810-4194-11ec-907b-6da1b8939c2c","migrationVersion":{"visualization":"7.14.0"},"references":[],"type":"visualization","updated_at":"2021-11-09T19:36:35.858Z","version":"WzI5NTYsNV0="}
{"excludedObjects":[],"excludedObjectsCount":0,"exportedCount":1,"missingRefCount":0,"missingReferences":[]}