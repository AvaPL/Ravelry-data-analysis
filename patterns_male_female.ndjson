{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}"},"title":"Patterns male/female","uiStateJSON":"{}","version":1,"visState":"{\"title\":\"Patterns male/female\",\"type\":\"vega\",\"aggs\":[],\"params\":{\"spec\":\"{\\n  $schema: https://vega.github.io/schema/vega-lite/v5.json\\n  description: A simple radial chart with embedded data.\\n  data: {\\n    url: {\\n      index: patterns\\n      body: {\\n        size: 0\\n        aggs: {\\n          sex: {\\n            terms: {\\n              field: pattern_attributes.permalink.keyword\\n              include: [\\n                male\\n                female\\n                unisex\\n              ]\\n            }\\n          }\\n        }\\n      }\\n    }\\n    format: {\\n      property: aggregations.sex.buckets\\n    }\\n  }\\n  transform: [\\n    {\\n      window: [\\n        {\\n          op: sum\\n          field: doc_count\\n          as: total\\n        }\\n      ]\\n      frame: [\\n        null\\n        null\\n      ]\\n    }\\n    {\\n      calculate: datum.doc_count/datum.total * 100\\n      as: percent\\n    }\\n    {\\n      calculate: replace(datum.percent, /(\\\\.\\\\d{2}).*/, '$1') + '%'\\n      as: percent_label\\n    }\\n  ]\\n  layer: [\\n    {\\n      mark: {\\n        type: arc\\n        innerRadius: 20\\n        stroke: \\\"#fff\\\"\\n      }\\n    }\\n    {\\n      mark: {\\n        type: text\\n        radiusOffset: 20\\n      }\\n      encoding: {\\n        text: {\\n          field: key\\n          type: nominal\\n        }\\n      }\\n    }\\n    {\\n      mark: {\\n        type: text\\n        radiusOffset: 70\\n      }\\n      encoding: {\\n        text: {\\n          field: percent_label\\n          type: nominal\\n        }\\n      }\\n    }\\n  ]\\n  encoding: {\\n    theta: {\\n      field: percent\\n      type: quantitative\\n      stack: true\\n    }\\n    radius: {\\n      field: percent\\n      scale: {\\n        type: sqrt\\n        zero: true\\n        rangeMin: 20\\n      }\\n    }\\n    color: {\\n      field: percent\\n      type: nominal\\n      legend: null\\n    }\\n  }\\n}\"}}"},"coreMigrationVersion":"7.14.1","id":"465dc2a0-3fd0-11ec-9047-03b6e23a90ef","migrationVersion":{"visualization":"7.14.0"},"references":[],"type":"visualization","updated_at":"2021-11-07T14:15:54.052Z","version":"WzEzODksOF0="}
{"excludedObjects":[],"excludedObjectsCount":0,"exportedCount":1,"missingRefCount":0,"missingReferences":[]}